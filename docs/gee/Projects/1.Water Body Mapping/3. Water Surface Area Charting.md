```javascript
/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var studyArea = 
    ee.Geometry.Polygon(
        [[[85.76361517120263, 20.52393128133101],
          [85.76361517120263, 20.41553715846105],
          [85.95621923614404, 20.41553715846105],
          [85.95621923614404, 20.52393128133101]]], null, false);
var S2 = ee.ImageCollection("COPERNICUS/S2_SR");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
//Filter cloud free Images from 01-01-2020 to 31-12-2020 for roi
var S2filtered = S2.filterDate('2020-10-01', '2021-06-01')
                   .filterBounds(studyArea)
                   .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE',30));
 
Map.centerObject(studyArea,12);
 
var ndwiThreshold = 0.15;
//User defined function to calculate NDWI for an image and add it as a band
var addNDWI = function(inputImage) {
  var ndwi = inputImage.normalizedDifference(['B3','B8']).rename('ndwi');
  return inputImage.addBands(ndwi); 
   };
  
var imagesWithNDWI = S2filtered.map(addNDWI);
print(imagesWithNDWI);
//User defined function to calculate water pixel area for an image and roi
var waterAr = function(inputImage) {
  var waterMask = inputImage.select('ndwi').gte(ndwiThreshold);
  var pixelArea = ee.Image.pixelArea();
  var waterpixels = pixelArea.updateMask(waterMask);
  var waterArea = waterpixels.reduceRegion({
    reducer: ee.Reducer.sum(),
    geometry: studyArea,
    crs: inputImage.select('B3').projection(),  
    //crsTransform: inputImage.select('B3').projection().getInfo().transform,  
    maxPixels: 1e8,
    bestEffort: true
      });
  var areaImage = ee.Image(waterArea.getNumber('area').divide(1e6)).rename('waterspreadarea'); 
  return inputImage.addBands(areaImage);
  };
var areaSeries = imagesWithNDWI.map(waterAr);
var title = {
  title: 'Water Spread Area in StudyArea (Sq.km)',
  hAxis: {title: 'Time'},
  vAxis: {title: 'Water Spread Area'},
};
var chart = ui.Chart.image.seriesByRegion(areaSeries,studyArea, ee.Reducer.mean(), 'waterspreadarea', 10, 'system:time_start',' ')
.setChartType('ColumnChart') //set chart type
 .setOptions(title); //set chart options
print(chart);
// // Due to cloudcover especially during monsoon period water spread area values may not be representative
