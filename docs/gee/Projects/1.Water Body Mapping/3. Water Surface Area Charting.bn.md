# ржкрж╛ржирж┐ ржкрзГрж╖рзНржа ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ ржЪрж╛рж░рзНржЯрж┐ржВ

рж╕рзЗржирзНржЯрж┐ржирзЗрж▓-рзи рж╕рзНржпрж╛ржЯрзЗрж▓рж╛ржЗржЯ ржЗржорзЗржЬрж╛рж░рж┐ ржПржмржВ NDWI (Normalized Difference Water Index) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржоржпрж╝рзЗрж░ рж╕рж╛ржерзЗ ржЬрж▓рж╛рж╢ржпрж╝рзЗрж░ ржорзЛржЯ ржкрзГрж╖рзНржа ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ ржЧржгржирж╛ рж╢рж┐ржЦрзБржиред

---

## ЁЯЫая╕П ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рзНржоржкрзНрж░ржмрж╛рж╣

```mermaid
graph TD
    A[рж╕рзЗржирзНржЯрж┐ржирзЗрж▓-рзи ржХрж╛рж▓рзЗржХрж╢ржи] --> B[ржлрж┐рж▓рзНржЯрж╛рж░: рждрж╛рж░рж┐ржЦ, рж╕рзАржорж╛ржирж╛, ржорзЗржШ]
    B --> C[NDWI ржмрзНржпрж╛ржирзНржб ржЧржгржирж╛]
    C --> D[ржерзНрж░рзЗрж╢рж╣рзЛрж▓рзНржб ржкрзНрж░ржпрж╝рзЛржЧ > 0.15]
    D --> E[ржкрзНрж░рждрж┐ ржкрж┐ржХрзНрж╕рзЗрж▓рзЗ ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ ржЧржгржирж╛]
    E --> F[reduceRegion ржжрж┐ржпрж╝рзЗ ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ ржпрзЛржЧ]
    F --> G[ржЯрж╛ржЗржо-рж╕рж┐рж░рж┐ржЬ ржЪрж╛рж░рзНржЯ рждрзИрж░рж┐]
    style G fill:#6bf,stroke:#333
```

---

## ЁЯЫ░я╕П рзз. рж╕рзЗржЯржЖржк ржУ ржлрж┐рж▓рзНржЯрж╛рж░рж┐ржВ

```javascript
var studyArea = ee.Geometry.Polygon([
  [[85.76, 20.52], [85.76, 20.41], [85.95, 20.41], [85.95, 20.52]]
]);

var S2 = ee.ImageCollection("COPERNICUS/S2_SR");
var filtered = S2.filterDate('2020-10-01', '2021-06-01')
                 .filterBounds(studyArea)
                 .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 30));
Map.centerObject(studyArea, 12);
```

---

## ЁЯТз рзи. NDWI ржЧржгржирж╛

NDWI ржЧрзНрж░рж┐ржи (`B3`) ржУ NIR (`B8`) ржмрзНржпрж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЧржгржирж╛ ржХрж░рж╛ рж╣ржпрж╝ред

```javascript
var addNDWI = function(image) {
  var ndwi = image.normalizedDifference(['B3', 'B8']).rename('ndwi');
  return image.addBands(ndwi);
};
var withNDWI = filtered.map(addNDWI);
```

---

## ЁЯУП рзй. ржкрж╛ржирж┐рж░ ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ ржЧржгржирж╛ (km┬▓)

```javascript
var ndwiThreshold = 0.15;

var calculateArea = function(image) {
  var waterMask = image.select('ndwi').gte(ndwiThreshold);
  var pixelArea = ee.Image.pixelArea();
  var waterPixels = pixelArea.updateMask(waterMask);
  var stats = waterPixels.reduceRegion({
    reducer: ee.Reducer.sum(), geometry: studyArea,
    scale: 10, maxPixels: 1e8, bestEffort: true
  });
  var areaKm2 = ee.Number(stats.get('area')).divide(1e6);
  return image.set('waterspreadarea', areaKm2);
};
var areaSeries = withNDWI.map(calculateArea);
```

---

## ЁЯУК рзк. ржлрж▓рж╛ржлрж▓ ржнрж┐ржЬрзНржпрзБржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи

```javascript
var chart = ui.Chart.image.series({
  imageCollection: areaSeries, region: studyArea,
  reducer: ee.Reducer.mean(), scale: 10, xProperty: 'system:time_start'
}).setOptions({
  title: 'ржкрж╛ржирж┐ ржмрж┐рж╕рзНрждрж╛рж░ ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ ржкрзНрж░ржмржгрждрж╛',
  hAxis: {title: 'рждрж╛рж░рж┐ржЦ'}, vAxis: {title: 'ржХрзНрж╖рзЗрждрзНрж░ржлрж▓ (ржмрж░рзНржЧ ржХрж┐ржорж┐)'}
});
print(chart);
```

---

## ЁЯТб ржкрж░рж╛ржорж░рзНрж╢

1. **ржХрзНрж▓рж╛ржЙржб ржорж╛рж╕рзНржХ**: ржмрж░рзНрж╖рж╛ ржорзМрж╕рзБржорзЗ ржнрж╛рж▓рзЛ ржирж┐рж░рзНржнрзБрж▓рждрж╛рж░ ржЬржирзНржп рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржХрзНрж▓рж╛ржЙржб ржорж╛рж╕рзНржХрж┐ржВ ржлрж╛ржВрж╢ржи ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░рзБржиред
2. **ржерзНрж░рзЗрж╢рж╣рзЛрж▓рзНржбрж┐ржВ**: `0.15` ржПржХржЯрж┐ рж╢рзБрж░рзБрж░ ржкржпрж╝рзЗржирзНржЯред ржЖржкржирж╛рж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕржЮрзНржЪрж▓рзЗрж░ ржкрж╛ржирж┐рж░ ржШрзЛрж▓рж╛ржЯрзЗ ржУ ржЧржнрзАрж░рждрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рж╕рж╛ржоржЮрзНржЬрж╕рзНржп ржХрж░рзБржиред

---
