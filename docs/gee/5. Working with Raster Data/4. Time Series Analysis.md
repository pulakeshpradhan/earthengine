# Time Series Analysis (Changes Over Time)

Satellite data is powerful because we have images going back decades. By analyzing a "stack" of images, we can see how a place changes.

## The `map()` Function

To process many images at once (like calculating NDVI for every image in a year), we use `.map()`.
Think of it as an **assembly line**: you define a set of instructions, and Earth Engine applies them to every image in the collection automatically.

## Example: Charting Vegetation Health Over a Year

Let's calculate NDVI for every Landsat 8 image in 2023 and plot it on a chart.

=== "JavaScript"
    ```javascript
    // Define a location (e.g., a forest or farm)
    var roi = ee.Geometry.Point([-122.4, 37.8]); // San Francisco

    // Load Landsat 8 for 1 year
    var collection = ee.ImageCollection('LANDSAT/LC08/C02/T1_L2')
      .filterDate('2023-01-01', '2023-12-31')
      .filterBounds(roi);
      
    // Define a function to calculate NDVI
    var addNDVI = function(image) {
      var ndvi = image.normalizedDifference(['SR_B5', 'SR_B4']).rename('NDVI');
      return image.addBands(ndvi); // Add NDVI as a new band
    };
    
    // Apply the function to every image in the collection!
    var withNDVI = collection.map(addNDVI);
    
    // Create a chart
    print(ui.Chart.image.series({
      imageCollection: withNDVI.select('NDVI'),
      region: roi,
      reducer: ee.Reducer.mean(),
      scale: 30
    }).setOptions({
      title: 'NDVI Over Time (2023)',
      vAxis: {title: 'NDVI'},
      hAxis: {title: 'Date'}
    }));
    ```

=== "Python"
    ```python
    # Define a location
    roi = ee.Geometry.Point([-122.4, 37.8]) # San Francisco

    # Load Landsat 8 for 1 year
    collection = ee.ImageCollection('LANDSAT/LC08/C02/T1_L2') \
      .filterDate('2023-01-01', '2023-12-31') \
      .filterBounds(roi)
      
    # Define a function to calculate NDVI
    def add_ndvi(image):
      ndvi = image.normalizedDifference(['SR_B5', 'SR_B4']).rename('NDVI')
      return image.addBands(ndvi)
    
    # Apply the function to every image
    with_ndvi = collection.map(add_ndvi)
    
    # Create a chart using geemap (requires installation)
    import geemap.chart as chart
    
    chart.feature_byFeature(
        with_ndvi,
        roi,
        'NDVI',
        title='NDVI Over Time (2023)',
        x_label='Date',
        y_label='NDVI'
    )
    # Alternatively, you can use matplotlib for Python!
    ```

## Moving Forward

This technique is fundamental to remote sensing. You can use it to:

- Monitor crop growth during a season
- Track deforestation over 20 years
- Watch lakes shrink or expand

Next, let's learn how to [export your results](5. Exporting Data.md).
