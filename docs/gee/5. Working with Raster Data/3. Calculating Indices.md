# Calculating Indices (Like NDVI)

Satellite images contain hidden information. By doing math on the different bands (colors), we can uncover things like plant health or water content.

The most famous index is **NDVI** (Normalized Difference Vegetation Index).

## What is NDVI?

Plants absorb **Red light** (for photosynthesis) and reflect **Infrared light**.
Dead plants or soil reflect both equally.

**Formula:**
$$ NDVI = \frac{(NIR - Red)}{(NIR + Red)} $$

Don't worry about the math - Earth Engine does it for you!

## Calculating NDVI in Earth Engine

Let's calculate NDVI for a Landsat 8 image.

=== "JavaScript"
    ```javascript
    // Load a Landsat 8 image
    var image = ee.Image('LANDSAT/LC08/C02/T1_L2/LC08_044034_20140318');

    // Method 1: Using the formula directly (harder)
    var ndvi = image.expression(
      '(NIR - RED) / (NIR + RED)', {
        'NIR': image.select('SR_B5'),
        'RED': image.select('SR_B4')
      });
      
    // Method 2: Using the built-in function (easier!)
    var easyNDVI = image.normalizedDifference(['SR_B5', 'SR_B4']).rename('NDVI');
    
    // Visualization: Blue (Water) -> White (Bare) -> Green (Healthy Plants)
    var ndviVis = {min: -1, max: 1, palette: ['blue', 'white', 'green']};
    
    Map.centerObject(image, 9);
    Map.addLayer(easyNDVI, ndviVis, 'NDVI');
    ```

=== "Python"
    ```python
    # Load a Landsat 8 image
    image = ee.Image('LANDSAT/LC08/C02/T1_L2/LC08_044034_20140318')

    # Method 2: Using the built-in function (easier!)
    # We select bands 5 (NIR) and 4 (Red)
    easy_ndvi = image.normalizedDifference(['SR_B5', 'SR_B4']).rename('NDVI')
    
    # Visualization: Blue (Water) -> White (Bare) -> Green (Healthy Plants)
    ndvi_vis = {'min': -1, 'max': 1, 'palette': ['blue', 'white', 'green']}
    
    Map = geemap.Map()
    Map.centerObject(image, 9)
    Map.addLayer(easy_ndvi, ndvi_vis, 'NDVI')
    Map
    ```

## Interpreting the Result

- **Values close to +1** (Dark Green): Dense, healthy forest.
- **Values around 0.2 - 0.5** (Light Green): Grass or sparse vegetation.
- **Values near 0** (White/Brown): Urban areas, bare soil, rock.
- **Negative Values** (Blue): Water bodies.

## Other Common Indices

| Index | Name | Formula | Use Case |
| :--- | :--- | :--- | :--- |
| **NDWI** | Normalized Difference Water Index | (Green - NIR) / (Green + NIR) | Detecting water bodies |
| **NBR** | Normalized Burn Ratio | (NIR - SWIR) / (NIR + SWIR) | Detecting burnt areas after fire |
| **EVI** | Enhanced Vegetation Index | Complex Formula | Better vegetation monitoring in dense forests |

You can calculate any of these using `.normalizedDifference()` or `.expression()`!
